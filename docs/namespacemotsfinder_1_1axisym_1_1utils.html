<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MOTS Finder: motsfinder.axisym.utils Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxystyle_tweaks.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MOTS Finder
   &#160;<span id="projectnumber">v1.4-3-g4c3aa7c</span>
   </div>
   <div id="projectbrief">Find non-star-shaped MOTSs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespacemotsfinder_1_1axisym_1_1utils.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">motsfinder.axisym.utils Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Utilities for curve analysis/modification.  
<a href="namespacemotsfinder_1_1axisym_1_1utils.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af027a256500ac984efe092d8691c9241"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemotsfinder_1_1axisym_1_1utils.html#af027a256500ac984efe092d8691c9241">detect_coeff_knee</a> (coeffs, n_min=10, limit_order_up=8, limit_order_down=5, threshold=0.05, min_window=4, window_ratio=0.01)</td></tr>
<tr class="memdesc:af027a256500ac984efe092d8691c9241"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the point at which the coefficients stop converging exponentially.  <a href="namespacemotsfinder_1_1axisym_1_1utils.html#af027a256500ac984efe092d8691c9241">More...</a><br /></td></tr>
<tr class="separator:af027a256500ac984efe092d8691c9241"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utilities for curve analysis/modification. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af027a256500ac984efe092d8691c9241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af027a256500ac984efe092d8691c9241">&#9670;&nbsp;</a></span>detect_coeff_knee()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def motsfinder.axisym.utils.detect_coeff_knee </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>coeffs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_min</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>limit_order_up</em> = <code>8</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>limit_order_down</em> = <code>5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>threshold</em> = <code>0.05</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_window</em> = <code>4</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>window_ratio</em> = <code>0.01</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the point at which the coefficients stop converging exponentially. </p>
<p>This does a crude but somewhat conservative estimate of whether there is a point after which the coefficients seem to not decay exponentially anymore. It does so by first finding a region to look at. The assumption is that there may be "noise" (i.e. important actual information) in the first few coefficients, followed by a region of exponential decay, followed by sub-exponential decay or roundoff noise. Sub-exponential decay may be a sign of overfitting.</p>
<dl class="section return"><dt>Returns</dt><dd>Index of the coefficient where a cutoff is suggested. <code>None</code> if no such suggestion can be made.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">coeffs</td><td>The coefficient list to look at. </td></tr>
    <tr><td class="paramname">n_min</td><td>Minimum number of elements to ignore at the beginning of the data. </td></tr>
    <tr><td class="paramname">limit_order_up,limit_order_down</td><td>Determine the region to look at by taking the largest coefficient and moving <code>limit_order_down</code> orders of magnitude down or the smallest coefficient and moving <code>limit_order_up</code> orders of magnitude up. The smaller of the two values is taken and the first coefficient lying below that value is taken as start of the region. If no such coefficient exists, all the data is looked at. </td></tr>
    <tr><td class="paramname">threshold</td><td>Value of the <em>defect</em> function demarcating the knee. Default is <code>0.05</code>. Use a larger value to be more conservative (i.e. tending to larger resolutions). </td></tr>
    <tr><td class="paramname">min_window</td><td>Number of points in each direction of a point to consider as one point. This is necessary to remove or at least reduce issues of large jumps in coefficient values due to e.g. symmetries in the problem. For example, if fitting a symmetric function with a Cosine series, every other coefficient will be zero. The points <code>i-window,...,i,...,i+window</code> are taken and the maximum (absolute) value is used in each instance where a coefficient order of magnitude is looked at. </td></tr>
    <tr><td class="paramname">window_ratio</td><td>Fraction of the full list to use as window, if larger than <code>min_window</code>.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Examples</b> </p>
<div class="fragment"><div class="line">data = []</div>
<div class="line">data += [5*r <span class="keywordflow">for</span> i, r <span class="keywordflow">in</span> enumerate(np.random.randn(40))]</div>
<div class="line">data += [r*np.exp(-i/10.) <span class="keywordflow">for</span> i, r <span class="keywordflow">in</span> enumerate(np.random.randn(200))]</div>
<div class="line">data += [r*(i+10)**(-3)*1e-5 <span class="keywordflow">for</span> i, r <span class="keywordflow">in</span> enumerate(np.random.randn(600))]</div>
<div class="line">knee = detect_coeff_knee(data)</div>
<div class="line">print(<span class="stringliteral">&quot;Found knee at %s&quot;</span> % knee)</div>
<div class="line">ax = plot_data(data, absolute=<span class="keyword">True</span>, ylog=<span class="keyword">True</span>, figsize=(14, 6), show=<span class="keyword">False</span>)</div>
<div class="line">ax.axvline(knee)</div>
<div class="line">plt.show()</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemotsfinder.html">motsfinder</a></li><li class="navelem"><a class="el" href="namespacemotsfinder_1_1axisym.html">axisym</a></li><li class="navelem"><a class="el" href="namespacemotsfinder_1_1axisym_1_1utils.html">utils</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
