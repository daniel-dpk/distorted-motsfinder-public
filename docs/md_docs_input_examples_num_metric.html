<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MOTS Finder: Example: Using the finder with a numerical metric</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxystyle_tweaks.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MOTS Finder
   &#160;<span id="projectnumber">v1.4-4-g8c2eec1</span>
   </div>
   <div id="projectbrief">Find non-star-shaped MOTSs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_docs_input_examples_num_metric.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example: Using the finder with a numerical metric </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><blockquote class="doxtable">
<p><b>IMPORTANT</b></p>
<p>See <a class="el" href="md_docs_input_examples_init.html">Preparation to running the examples</a> for setting up (necessary imports, etc). </p>
</blockquote>
<p>This example considers the case that you have numerical data defining an axisymmetric slice of spacetime. Further, we assume you have the components of the metric and extrinsic curvature each as a 2- or 3-dimensional array containing the component values for a grid covering the full domain containing any potential MOTS you would like to find.</p>
<p>This means, we have 6 matrices of shape <code>(N, N)</code> for the metric:</p>
<div class="fragment"><div class="line">metric = [</div>
<div class="line">    np.array(...),  <span class="comment"># xx component, shape=(N,N)</span></div>
<div class="line">    np.array(...),  <span class="comment"># xy component, shape=(N,N)</span></div>
<div class="line">    np.array(...),  <span class="comment"># xz component, shape=(N,N)</span></div>
<div class="line">    np.array(...),  <span class="comment"># yy component, shape=(N,N)</span></div>
<div class="line">    np.array(...),  <span class="comment"># yz component, shape=(N,N)</span></div>
<div class="line">    np.array(...),  <span class="comment"># zz component, shape=(N,N)</span></div>
<div class="line">]</div>
</div><!-- fragment --><p>And the same for the extrinsic curvature:</p>
<div class="fragment"><div class="line">curv = [</div>
<div class="line">    np.array(...),  <span class="comment"># xx component, shape=(N,N)</span></div>
<div class="line">    np.array(...),  <span class="comment"># xy component, shape=(N,N)</span></div>
<div class="line">    np.array(...),  <span class="comment"># xz component, shape=(N,N)</span></div>
<div class="line">    np.array(...),  <span class="comment"># yy component, shape=(N,N)</span></div>
<div class="line">    np.array(...),  <span class="comment"># yz component, shape=(N,N)</span></div>
<div class="line">    np.array(...),  <span class="comment"># zz component, shape=(N,N)</span></div>
<div class="line">]</div>
</div><!-- fragment --><p>This allows us to define the slice data in a format understood by the MOTS Finder using <a class="el" href="namespacemotsfinder_1_1metric_1_1discrete_1_1construct.html#a57c7529cf2ae22cc3921fd6926ed9dfa" title="Convert slice data from a list of matrices to a compatible form.">motsfinder.metric.discrete.construct.metric_from_data()</a>:</p>
<div class="fragment"><div class="line">g = metric_from_data(</div>
<div class="line">    <span class="stringliteral">&quot;data/my_numerical_metric_data.npy&quot;</span>,    <span class="comment"># file to store bulk data</span></div>
<div class="line">    res=256,                                <span class="comment"># resolution 1/h of the grid</span></div>
<div class="line">    origin=-5.0,                            <span class="comment"># location of the [0,0] grid point</span></div>
<div class="line">    metric=metric,</div>
<div class="line">    curv=curv,</div>
<div class="line">)</div>
</div><!-- fragment --><p>Now we can use the finder to look for a MOTS:</p>
<div class="fragment"><div class="line">num = 50      <span class="comment"># spectral resolution of the horizon function</span></div>
<div class="line">radius = 1.5  <span class="comment"># coordinate radius of the initial guess shape</span></div>
<div class="line">c = find_mots(GeneralMotsConfig.preset(</div>
<div class="line">    <span class="stringliteral">&quot;discrete8&quot;</span>,</div>
<div class="line">    metric=g,</div>
<div class="line">    hname=<span class="stringliteral">&#39;my_first_MOTS&#39;</span>,</div>
<div class="line">    out_folder=<span class="stringliteral">&#39;data/MOTSs&#39;</span>,</div>
<div class="line">    c_ref=StarShapedCurve.create_sphere(radius, num=num, metric=g),</div>
<div class="line">    ref_num=2, reparam=<span class="keyword">False</span>,</div>
<div class="line">    verbose=<span class="keyword">True</span>, plot_steps=<span class="keyword">True</span>,</div>
<div class="line">))</div>
</div><!-- fragment --><p>... and compute some of its properties:</p>
<div class="fragment"><div class="line">print(<span class="stringliteral">&quot;Area: %s&quot;</span> % c.area())</div>
<div class="line"> </div>
<div class="line"><span class="comment"># This will generate warnings about missing lapse and shift.</span></div>
<div class="line"><span class="comment"># However, for the stability spectrum the trivial implementations are fine to</span></div>
<div class="line"><span class="comment"># use as the spectrum is invariant under changes of lapse and shift.</span></div>
<div class="line">_, spectrum = c.stability_parameter(full_output=<span class="keyword">True</span>)</div>
<div class="line">spectrum.print_l_max = 5</div>
<div class="line">print(spectrum)</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
